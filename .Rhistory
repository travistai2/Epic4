p1f<-p.iter + theme(axis.title = element_text(size = 8),,
axis.text = element_text(size = 8),
legend.text = element_text(size = 8)) +
geom_line(aes(x = iterations, y = value, col = percentile),lwd=0.25) +
geom_smooth(aes(x = iterations, y = value, col = percentile),method = "loess") +
geom_vline(xintercept = 3000, lty = 2, lwd= 0.2) +
labs(x = "Iterations",
y = "Absolute % difference from 10k\niteration results") +
scale_colour_discrete(name = "Percentile", labels = c("50th","70th","90th","95th"))
p1f<-p.iter + theme(axis.title = element_text(size = 8),
axis.text = element_text(size = 8),
legend.text = element_text(size = 8)) +
geom_line(aes(x = iterations, y = value, col = percentile),lwd=0.25) +
geom_smooth(aes(x = iterations, y = value, col = percentile),method = "loess") +
geom_vline(xintercept = 3000, lty = 2, lwd= 0.2) +
labs(x = "Iterations",
y = "Absolute % difference from 10k\niteration results") +
scale_colour_discrete(name = "Percentile", labels = c("50th","70th","90th","95th"))
p1f
pdf("./Plots/IterConvAnalysis.pdf",width = 3.5, height = 2)
p1f
dev.off()
p1f<-p.iter + theme(axis.title = element_text(size = 8),
axis.text = element_text(size = 8),
legend.text = element_text(size = 8),
legend.title = element_text(size=8)) +
geom_line(aes(x = iterations, y = value, col = percentile),lwd=0.25) +
geom_smooth(aes(x = iterations, y = value, col = percentile),method = "loess") +
geom_vline(xintercept = 3000, lty = 2, lwd= 0.2) +
labs(x = "Iterations",
y = "Absolute % difference from 10k\niteration results") +
scale_colour_discrete(name = "Percentile", labels = c("50th","70th","90th","95th"))
pdf("./Plots/IterConvAnalysis.pdf",width = 3.5, height = 2)
p1f
dev.off()
p1f<-p.iter + theme(axis.title = element_text(size = 8),
axis.text = element_text(size = 7),
legend.text = element_text(size = 7),
legend.title = element_text(size=7)) +
geom_line(aes(x = iterations, y = value, col = percentile),lwd=0.25) +
geom_smooth(aes(x = iterations, y = value, col = percentile),method = "loess") +
geom_vline(xintercept = 3000, lty = 2, lwd= 0.2) +
labs(x = "Iterations",
y = "Absolute % difference from 10k\niteration results") +
scale_colour_discrete(name = "Percentile", labels = c("50th","70th","90th","95th"))
p1f
pdf("./Plots/IterConvAnalysis.pdf",width = 3.5, height = 2)
p1f
dev.off()
p1f<-p.iter + theme(axis.title = element_text(size = 8),
axis.text = element_text(size = 7),
legend.text = element_text(size = 7),
legend.title = element_text(size=7)) +
geom_line(aes(x = iterations, y = value, col = percentile),lwd=0.25) +
geom_smooth(aes(x = iterations, y = value, col = percentile),method = "loess",lwd=0.6) +
geom_vline(xintercept = 3000, lty = 2, lwd= 0.2) +
labs(x = "Iterations",
y = "Absolute % difference from 10k\niteration results") +
scale_colour_discrete(name = "Percentile", labels = c("50th","70th","90th","95th"))
pdf("./Plots/IterConvAnalysis.pdf",width = 3.5, height = 2)
p1f
dev.off()
View(sum.dat)
write.csv(sum.dat,"./Tables/CaptureFisheries_ModSimOutput.csv",row.names=F)
tout.dat
## stock recruit plot
tplot.dat<-data.frame(Year = rep(tout.dat$Year,times=4),
Ind = rep(c("wild_return","total_return","total_escape","harvest_areaG"),
each=length(tout.dat$Year)),
y_Fish = c(tout.dat$age3_ret,tout.dat$total_return,
tout.dat$total_escape,tout.dat$harvest_areaG))
p1 <- p1 + geom_line(data=tplot.dat, aes(x=Year, y=y_Fish, col=Ind),lwd=0.05) +
facet_wrap(tplot.dat$Ind,nrow=2,scales="free")    ## save stock recruit data line to plot
p1
## economic data plot
tplot.dat<-data.frame(Year = rep(tyears,4),   ## setup plot data for iteration
Ind = rep(mult.cate,each=length(tyears)),
NPV = c(econ.out[,1,i],econ.out[,2,i],econ.out[,3,i],econ.out[,4,i]))
p2 <- p2 + geom_line(data=tplot.dat, aes(x=Year, y=NPV, col=Ind),lwd=0.05) +
facet_wrap(tplot.dat$Ind,nrow=2,scales="free")    ## save econ data line to plot
## stock-rec plots ##
stockMean.dat<-as.data.frame(matrix(NA,nrow=0,ncol=4))
names(stockMean.dat)<-c("Year","Ind","y_FishMean","y_FishSE")
tvar.dat<-array(NA,dim=c(length(n_years)+3,4,iter))
for(i in 1:iter){
tvar.dat[,,i]<-as.matrix(stockrec.out[[i]] %>% #filter(Year>2013) %>%
select(age3_ret,total_return,total_escape,harvest_areaG))
}
n_samp
## stock-rec plots ##
stockMean.dat<-as.data.frame(matrix(NA,nrow=0,ncol=4))
names(stockMean.dat)<-c("Year","Ind","y_FishMean","y_FishSE")
tvar.dat<-array(NA,dim=c(length(n_years)+3,4,iter))
for(i in n_samp){
tvar.dat[,,i]<-as.matrix(stockrec.out[[i]] %>% #filter(Year>2013) %>%
select(age3_ret,total_return,total_escape,harvest_areaG))
}
storec.categ<-c("wild_return","total_return","total_escape","harvest_areaG")
storec.categ
for(i in 1:4){
tdat<-data.frame(Year = c(2011:2013,n_years),
Ind = storec.categ[i],
y_FishMean = apply(tvar.dat[,i,],1,mean),
y_FishSE = (apply(tvar.dat[,i,],1,sd)/sqrt(iter)))
stockMean.dat<-stockMean.dat %>% bind_rows(tdat)
rm(tdat)
}
rm(tvar.dat)
stockMean.dat$Ind<-as.factor(stockMean.dat$Ind)
## plot stock recruit data
p1<-ggplot()
p1 + geom_line(data=stockMean.dat, aes(x=Year, y=y_FishMean, colour=Ind)) +
geom_ribbon(data=stockMean.dat,
aes(x=Year, ymin=y_FishMean-(1.96*y_FishSE), ymax=y_FishMean+(1.96*y_FishSE)),
fill="grey50",alpha=0.5) +
facet_wrap(stockMean.dat$Ind,nrow=2,scales="free")
View(stockMean.dat)
## stock-rec plots ##
stockMean.dat<-as.data.frame(matrix(NA,nrow=0,ncol=4))
names(stockMean.dat)<-c("Year","Ind","y_FishMean","y_FishSE")
tvar.dat<-array(NA,dim=c(length(n_years)+3,4,iter))
tvar.dat<-array(NA,dim=c(length(n_years)+3,4,length(n_samp)))
stockrec.out[[i]]
i
n_samp[3000]
n_samp[1]
i<-3786
stockrec.out[[i]]
## stock-rec plots ##
stockMean.dat<-as.data.frame(matrix(NA,nrow=0,ncol=4))
names(stockMean.dat)<-c("Year","Ind","y_FishMean","y_FishSE")
tvar.dat<-array(NA,dim=c(length(n_years)+3,4,length(n_samp)))
for(i in n_samp){
tvar.dat[,,i]<-as.matrix(stockrec.out[[i]] %>% #filter(Year>2013) %>%
select(age3_ret,total_return,total_escape,harvest_areaG))
}
tvar.dat<-array(NA,dim=c(length(n_years)+3,4,length(n_samp)))
for(i in n_samp){
tvar.dat[,,i]<-as.matrix(stockrec.out[[i]] %>% #filter(Year>2013) %>%
select(age3_ret,total_return,total_escape,harvest_areaG))
}
tvar.dat<-array(NA,dim=c(length(n_years)+3,4,length(n_samp)))
for(i in 1:length(n_samp)){
tvar.dat[,,i]<-as.matrix(stockrec.out[[nsamp[i]]] %>% #filter(Year>2013) %>%
select(age3_ret,total_return,total_escape,harvest_areaG))
}
tvar.dat<-array(NA,dim=c(length(n_years)+3,4,length(n_samp)))
for(i in 1:length(n_samp)){
tvar.dat[,,i]<-as.matrix(stockrec.out[[n_samp[i]]] %>% #filter(Year>2013) %>%
select(age3_ret,total_return,total_escape,harvest_areaG))
}
head(tvar.dat)
dim(tvar.dat)
storec.categ<-c("wild_return","total_return","total_escape","harvest_areaG")
tvar.dat[,i,]
i<-1
tvar.dat[,i,]
dim(tvar.dat[,i,])
storec.categ<-c("wild_return","total_return","total_escape","harvest_areaG")
for(i in 1:4){
tdat<-data.frame(Year = c(2011:2013,n_years),
Ind = storec.categ[i],
y_FishMean = apply(tvar.dat[,i,],1,mean),
y_FishSE = (apply(tvar.dat[,i,],1,sd)/sqrt(length(n_samp))))
stockMean.dat<-stockMean.dat %>% bind_rows(tdat)
rm(tdat)
}
View(stockMean.dat)
rm(tvar.dat)
stockMean.dat$Ind<-as.factor(stockMean.dat$Ind)
## plot stock recruit data
p1<-ggplot()
p1 + geom_line(data=stockMean.dat, aes(x=Year, y=y_FishMean, colour=Ind)) +
geom_ribbon(data=stockMean.dat,
aes(x=Year, ymin=y_FishMean-(1.96*y_FishSE), ymax=y_FishMean+(1.96*y_FishSE)),
fill="grey50",alpha=0.5) +
facet_wrap(stockMean.dat$Ind,nrow=2,scales="free")
## plot stock recruit data
p1<-ggplot()
p1 + geom_line(data=stockMean.dat, aes(x=Year, y=y_FishMean/1000, colour=Ind)) +
geom_ribbon(data=stockMean.dat,
aes(x=Year, ymin=(y_FishMean-(1.96*y_FishSE))/1000,
ymax=(y_FishMean+(1.96*y_FishSE))/1000),
fill="grey50",alpha=0.5) +
facet_wrap(stockMean.dat$Ind,nrow=2,scales="free") +
labs(x="Year",y="# fish")
p1 + geom_line(data=stockMean.dat, aes(x=Year, y=y_FishMean/1000, colour=Ind)) +
geom_ribbon(data=stockMean.dat,
aes(x=Year, ymin=(y_FishMean-(1.96*y_FishSE))/1000,
ymax=(y_FishMean+(1.96*y_FishSE))/1000),
fill="grey50",alpha=0.5) +
facet_wrap(stockMean.dat$Ind,nrow=2,scales="free") +
labs(x="Year",y="# fish (thousand)")
stockMean.dat<-stockMean.dat %>% filter(Year >2013)
## plot stock recruit data
p1<-ggplot()
p1 + geom_line(data=stockMean.dat, aes(x=Year, y=y_FishMean/1000, colour=Ind)) +
geom_ribbon(data=stockMean.dat,
aes(x=Year, ymin=(y_FishMean-(1.96*y_FishSE))/1000,
ymax=(y_FishMean+(1.96*y_FishSE))/1000),
fill="grey50",alpha=0.5) +
facet_wrap(stockMean.dat$Ind,nrow=2,scales="free") +
labs(x="Year",y="# fish (thousand)")
## plot stock recruit data
p2<-ggplot()
p2 + geom_line(data=stockMean.dat, aes(x=Year, y=y_FishMean/1000, colour=Ind)) +
geom_ribbon(data=stockMean.dat,
aes(x=Year, ymin=(y_FishMean-(1.96*y_FishSE))/1000,
ymax=(y_FishMean+(1.96*y_FishSE))/1000),
fill="grey50",alpha=0.5) +
facet_wrap(stockMean.dat$Ind,nrow=2,scales="free") +
labs(x="Year",y="# fish (thousand)")
storec.categ<-c("Wild return","Total return","Total escapement","Harvest - area G")
for(i in 1:4){
tdat<-data.frame(Year = c(2011:2013,n_years),
Ind = storec.categ[i],
y_FishMean = apply(tvar.dat[,i,],1,mean),
y_FishSE = (apply(tvar.dat[,i,],1,sd)/sqrt(length(n_samp))))
stockMean.dat<-stockMean.dat %>% bind_rows(tdat)
rm(tdat)
}
## stock-rec plots ##
stockMean.dat<-as.data.frame(matrix(NA,nrow=0,ncol=4))
names(stockMean.dat)<-c("Year","Ind","y_FishMean","y_FishSE")
tvar.dat<-array(NA,dim=c(length(n_years)+3,4,length(n_samp)))
for(i in 1:length(n_samp)){
tvar.dat[,,i]<-as.matrix(stockrec.out[[n_samp[i]]] %>% #filter(Year>2013) %>%
select(age3_ret,total_return,total_escape,harvest_areaG))
}
storec.categ<-c("Wild return","Total return","Total escapement","Harvest - area G")
for(i in 1:4){
tdat<-data.frame(Year = c(2011:2013,n_years),
Ind = storec.categ[i],
y_FishMean = apply(tvar.dat[,i,],1,mean),
y_FishSE = (apply(tvar.dat[,i,],1,sd)/sqrt(length(n_samp))))
stockMean.dat<-stockMean.dat %>% bind_rows(tdat)
rm(tdat)
}
rm(tvar.dat)
stockMean.dat$Ind<-as.factor(stockMean.dat$Ind)
stockMean.dat<-stockMean.dat %>% filter(Year >2013)
## plot stock recruit data
p2<-ggplot()
p2.1 + geom_line(data=stockMean.dat, aes(x=Year, y=y_FishMean/1000, colour=Ind)) +
geom_ribbon(data=stockMean.dat,
aes(x=Year, ymin=(y_FishMean-(1.96*y_FishSE))/1000,
ymax=(y_FishMean+(1.96*y_FishSE))/1000),
fill="grey50",alpha=0.5) +
facet_wrap(stockMean.dat$Ind,nrow=2,scales="free") +
labs(x="Year",y="# fish (thousand)")
## plot stock recruit data
p2.1<-ggplot()
p2.1 + geom_line(data=stockMean.dat, aes(x=Year, y=y_FishMean/1000, colour=Ind)) +
geom_ribbon(data=stockMean.dat,
aes(x=Year, ymin=(y_FishMean-(1.96*y_FishSE))/1000,
ymax=(y_FishMean+(1.96*y_FishSE))/1000),
fill="grey50",alpha=0.5) +
facet_wrap(stockMean.dat$Ind,nrow=2,scales="free") +
labs(x="Year",y="# fish (thousand)")
p2.1 + geom_line(data=stockMean.dat, aes(x=Year, y=y_FishMean/1000, colour=Ind)) +
geom_ribbon(data=stockMean.dat,
aes(x=Year, ymin=(y_FishMean-(1.96*y_FishSE))/1000,
ymax=(y_FishMean+(1.96*y_FishSE))/1000),
fill="grey50",alpha=0.5) +
facet_wrap(stockMean.dat$Ind,nrow=2,scales="free") +
labs(x="Year",y="# fish (thousand)") +
scale_colour_discrete(guide=F)
stockMean.dat$Ind<-factor(stockMean.dat$Ind,
levels = c("Wild return","Total return",
"Total escapement","Harvest - area G"))
stockMean.dat<-stockMean.dat %>% filter(Year >2013)
## plot stock recruit data
p2.1<-ggplot()
p2.1 + geom_line(data=stockMean.dat, aes(x=Year, y=y_FishMean/1000, colour=Ind)) +
geom_ribbon(data=stockMean.dat,
aes(x=Year, ymin=(y_FishMean-(1.96*y_FishSE))/1000,
ymax=(y_FishMean+(1.96*y_FishSE))/1000),
fill="grey50",alpha=0.5) +
facet_wrap(stockMean.dat$Ind,nrow=2,scales="free") +
labs(x="Year",y="# fish (thousand)") +
scale_colour_discrete(guide=F)
p2.2<-ggplot()
p2.2 + geom_line(data=stockMean.dat, aes(x=Year, y=y_FishMean, colour=Ind)) +
geom_ribbon(data=stockMean.dat,
aes(x=Year, ymin=y_FishMean-(1.96*y_FishSE), ymax=y_FishMean+(1.96*y_FishSE)),
fill="grey50",alpha=0.5) +
facet_wrap(stockMean.dat$Ind,nrow=2,scales="free")
p2.2<-ggplot((stockMean.dat %>% filter(Year>2013)))
p2.2 + geom_line(aes(x=Year, y=y_FishMean, colour=Ind)) +
geom_ribbon(aes(x=Year, ymin=y_FishMean-(1.96*y_FishSE), ymax=y_FishMean+(1.96*y_FishSE)),
fill="grey50",alpha=0.5) +
facet_wrap(~Ind,nrow=2,scales="free")
## generate mean and standard error for simulation to plot
outputMean.dat<-as.data.frame(matrix(NA,nrow=0,ncol=3))
names(outputMean.dat)<-c("Year","Ind","NPV")
mult.cate
head(econ.out)
sum.dat
tecon<-econ.out[[1]]
View(tecon)
View(tecon)
i
tdat<-econ.out[[n_samp[i]]]
View(tdat)
tdat<-econ.out[[n_samp[i]]] %>%
group_by(Economic.Indicators,Year) %>%
summarize(NPV = sum(NPV,na.rm=T))
View(tdat)
i<-n_samp[1]
i
tdat<-econ.out[[n_samp]] %>%
group_by(Economic.Indicators,Year) %>%
summarize(NPV = sum(NPV,na.rm=T))
dim(econ.out)
length(econ.out)
tdat<-econ.out[[i]] %>%
group_by(Economic.Indicators,Year) %>%
summarize(NPV = sum(NPV,na.rm=T))
## generate mean and standard error for simulation to plot
econMean.dat<-as.data.frame(matrix(NA,nrow=0,ncol=3))
names(econMean.dat)<-c("Year","Ind","NPV")
## generate mean and standard error for simulation to plot
econMean.dat<-data.frame(
)
## generate mean and standard error for simulation to plot
econMean.dat<-data.frame()
for(i in n_samp){
tdat<-econ.out[[i]] %>%
group_by(Economic.Indicators,Year) %>%
summarize(NPV = sum(NPV,na.rm=T))
if(i==n_samp[[1]]){
econMean.dat<-tdat
} else {
econMean.dat<-econMean.dat %>%
left_join(tdat, by = c("Economic.Indicators","Year"))
}
rm(tdat)
}
View(econMean.dat)
teconMean<-econMean.dat[,c(-1,-2)]
View(teconMean)
teconMean<-econMean.dat %>% select(Economic.Indicators,Year) %>%
mutate(NPV = apply(teconMean,1,mean,na.rm=T))
apply(teconMean,1,mean,na.rm=T)
View(econMean.dat)
teconMean<-econMean.dat[,c(-1,-2)]
econMean.dat$NPV_mean<-apply(teconMean,1,mean,na.rm=T)
econMean.dat$NPV_SE<-apply(teconMean,1,function(x){sd(x)/sqrt(opt.iter)})
econMean<-econMean.dat %>% select(Economic.Indicators,Year,NPV_mean,NPV_SE) %>%
mutate(NPV_CI95 = NPV_SE*1.96)
rm(teconMean)
rm(econMean)
econMean.dat<-econMean.dat %>% select(Economic.Indicators,Year,NPV_mean,NPV_SE) %>%
mutate(NPV_CI95 = NPV_SE*1.96)
View(econMean.dat)
rm(teconMean)
mult.cate
econMean.dat$Economic.Indicators<-factor(econMean.dat$Economic.Indicators,levels=mult.cate)
## plot economic data
p3.1<-ggplot()
p3.1 + geom_line(data=econMean.dat, aes(x=Year, y=NPV, colour=Ind)) +
geom_ribbon(data=econMean.dat,
aes(x=Year, ymin=NPV-(1.96*NPV_SE), ymax=NPV+(1.96*NPV_SE)),
fill="grey50",alpha=0.5) +
facet_wrap(econMean.dat$Ind,nrow=2,scales="free")
## plot economic data
p3.1<-ggplot()
p3.1 + geom_line(data=econMean.dat, aes(x=Year, y=NPV_mean, colour=Economic.Indicators)) +
geom_ribbon(data=econMean.dat,
aes(x=Year, ymin=NPV_mean-(1.96*NPV_SE), ymax=NPV_mean+(1.96*NPV_SE)),
fill="grey50",alpha=0.5) +
facet_wrap(econMean.dat$Economic.Indicators,nrow=2,scales="free")
View(econMean.dat)
## plot economic data
p3.1<-ggplot()
p3.1 + geom_line(data=econMean.dat, aes(x=Year, y=NPV_mean/1000, colour=Economic.Indicators)) +
geom_ribbon(data=econMean.dat,
aes(x=Year, ymin=(NPV_mean-(1.96*NPV_SE))/1000, ymax=(NPV_mean+(1.96*NPV_SE)))/1000,
fill="grey50",alpha=0.5) +
facet_wrap(econMean.dat$Economic.Indicators,nrow=2,scales="free") %>%
scale_colour_discrete(guide=F)
## plot economic data
p3.1<-ggplot()
p3.1 + geom_line(data=econMean.dat, aes(x=Year, y=NPV_mean/1000, colour=Economic.Indicators)) +
geom_ribbon(data=econMean.dat,
aes(x=Year, ymin=(NPV_mean-(1.96*NPV_SE))/1000,
ymax=(NPV_mean+(1.96*NPV_SE)))/1000,
fill="grey50",alpha=0.5) +
facet_wrap(econMean.dat$Economic.Indicators,nrow=2,scales="free") %>%
scale_colour_discrete(guide=F)
p3.1 + geom_line(data=econMean.dat, aes(x=Year, y=NPV_mean/1000, colour=Economic.Indicators)) +
geom_ribbon(data=econMean.dat,
aes(x=Year, ymin=(NPV_mean-(1.96*NPV_SE))/1000,
ymax=(NPV_mean+(1.96*NPV_SE))/1000),
fill="grey50",alpha=0.5) +
facet_wrap(econMean.dat$Economic.Indicators,nrow=2,scales="free") %>%
scale_colour_discrete(guide=F)
## plot stock recruit data
p2.1<-ggplot(data=stockMean.dat)
p2.1f<-p2.1 + geom_line(aes(x=Year, y=y_FishMean/1000, colour=Ind)) +
geom_ribbon(aes(x=Year, ymin=(y_FishMean-(1.96*y_FishSE))/1000,
ymax=(y_FishMean+(1.96*y_FishSE))/1000),
fill="grey50",alpha=0.5) +
facet_wrap(Ind,nrow=2,scales="free") +
labs(x="Year",y="# fish (thousand)") +
scale_colour_discrete(guide=F)
## plot stock recruit data
p2.1<-ggplot(data=stockMean.dat)
p2.1f<-p2.1 + geom_line(aes(x=Year, y=y_FishMean/1000, colour=Ind)) +
geom_ribbon(aes(x=Year, ymin=(y_FishMean-(1.96*y_FishSE))/1000,
ymax=(y_FishMean+(1.96*y_FishSE))/1000),
fill="grey50",alpha=0.5) +
facet_wrap(stockMean.dat$Ind,nrow=2,scales="free") +
labs(x="Year",y="# fish (thousand)") +
scale_colour_discrete(guide=F)
p2.1f
## plot economic data
p3.1<-ggplot(data=econMean.dat)
p3.1 + geom_line(aes(x=Year, y=NPV_mean/1000, colour=Economic.Indicators)) +
geom_ribbon(aes(x=Year, ymin=(NPV_mean-(1.96*NPV_SE))/1000,
ymax=(NPV_mean+(1.96*NPV_SE))/1000),
fill="grey50",alpha=0.5) +
facet_wrap(econMean.dat$Economic.Indicators,nrow=2,scales="free") %>%
scale_colour_discrete(guide=F)
p3.1 + geom_line(aes(x=Year, y=NPV_mean/1000, colour=Economic.Indicators)) +
geom_ribbon(aes(x=Year, ymin=(NPV_mean-(1.96*NPV_SE))/1000,
ymax=(NPV_mean+(1.96*NPV_SE))/1000),
fill="grey50",alpha=0.5) +
facet_wrap(econMean.dat$Economic.Indicators,nrow=2,scales="free") +
scale_colour_discrete(guide=F)
## plot economic data
p3.1<-ggplot(data=econMean.dat)
p3.1 + geom_line(aes(x=Year, y=NPV_mean/1000, colour=Economic.Indicators)) +
geom_ribbon(aes(x=Year, ymin=(NPV_mean-(1.96*NPV_SE))/1000,
ymax=(NPV_mean+(1.96*NPV_SE))/1000),
fill="grey50",alpha=0.5) +
labs(x="Year",y="Net present value (1000 USD)") +
facet_wrap(econMean.dat$Economic.Indicators,nrow=2,scales="free") +
scale_colour_discrete(guide=F)
pdf("./Plots/StockRec_ModSimOutput.pdf",width=3.5,height=2)
p2.1f
dev.off()
?theme()
## plot stock recruit data
p2.1<-ggplot(data=stockMean.dat)
p2.1f<-p2.1 + theme(axis.title = element_text(size = 8),
axis.text = element_text(size = 7),
legend.text = element_text(size = 7),
legend.title = element_text(size=7),
strip.text = element_text(size=7)) +
geom_line(aes(x=Year, y=y_FishMean/1000, colour=Ind)) +
geom_ribbon(aes(x=Year, ymin=(y_FishMean-(1.96*y_FishSE))/1000,
ymax=(y_FishMean+(1.96*y_FishSE))/1000),
fill="grey50",alpha=0.5) +
facet_wrap(stockMean.dat$Ind,nrow=2,scales="free") +
labs(x="Year",y="# fish (thousand)") +
scale_colour_discrete(guide=F)
pdf("./Plots/StockRec_ModSimOutput.pdf",width=3.5,height=2)
p2.1f
dev.off()
## plot stock recruit data
p2.1<-ggplot(data=stockMean.dat)
p2.1f<-p2.1 + theme(axis.title = element_text(size = 8),
axis.text = element_text(size = 7),
legend.text = element_text(size = 7),
legend.title = element_text(size=7),
strip.text = element_text(size=6)) +
geom_line(aes(x=Year, y=y_FishMean/1000, colour=Ind)) +
geom_ribbon(aes(x=Year, ymin=(y_FishMean-(1.96*y_FishSE))/1000,
ymax=(y_FishMean+(1.96*y_FishSE))/1000),
fill="grey50",alpha=0.5) +
facet_wrap(stockMean.dat$Ind,nrow=2,scales="free") +
labs(x="Year",y="# fish (thousand)") +
scale_colour_discrete(guide=F)
p2.1f
pdf("./Plots/StockRec_ModSimOutput.pdf",width=3.5,height=3)
p2.1f
dev.off()
## plot economic data
p3.1<-ggplot(data=econMean.dat)
p3.1 + theme(axis.title = element_text(size = 8),
axis.text = element_text(size = 7),
legend.text = element_text(size = 7),
legend.title = element_text(size=7),
strip.text = element_text(size=6)) +
geom_line(aes(x=Year, y=NPV_mean/1000, colour=Economic.Indicators)) +
geom_ribbon(aes(x=Year, ymin=(NPV_mean-(1.96*NPV_SE))/1000,
ymax=(NPV_mean+(1.96*NPV_SE))/1000),
fill="grey50",alpha=0.5) +
labs(x="Year",y="Net present value (1000 USD)") +
facet_wrap(econMean.dat$Economic.Indicators,nrow=2,scales="free") +
scale_colour_discrete(guide=F)
pdf("./Plots/EconIndicator_ModSimOutput.pdf",width=3.5,height=3)
p3.1f
dev.off()
## plot economic data
p3.1<-ggplot(data=econMean.dat)
p3.1f<-p3.1 + theme(axis.title = element_text(size = 8),
axis.text = element_text(size = 7),
legend.text = element_text(size = 7),
legend.title = element_text(size=7),
strip.text = element_text(size=6)) +
geom_line(aes(x=Year, y=NPV_mean/1000, colour=Economic.Indicators)) +
geom_ribbon(aes(x=Year, ymin=(NPV_mean-(1.96*NPV_SE))/1000,
ymax=(NPV_mean+(1.96*NPV_SE))/1000),
fill="grey50",alpha=0.5) +
labs(x="Year",y="Net present value (1000 USD)") +
facet_wrap(econMean.dat$Economic.Indicators,nrow=2,scales="free") +
scale_colour_discrete(guide=F)
pdf("./Plots/EconIndicator_ModSimOutput.pdf",width=3.5,height=3)
p3.1f
dev.off()
